<div class="introduction frame-primary" *ngIf="viewer">
    <div class="container" fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="40px">
        <div fxFlex="25" fxLayout="column" fxLayoutAlign="start start" fxLayoutGap="10px">
            <div class="mat-display-1 no-margin" fxFlex>Bonjour {{ viewer.firstName }},</div>
            <button (click)="userService.logout()" mat-flat-button>
                <natural-icon name="exit_to_app"></natural-icon>
                Se déconnecter
            </button>
        </div>

        <div fxFlex fxLayout="column" fxLayoutAlign="start start" fxLayoutGap="30px">
            <div class="mat-h2">Mon compte de La Revue</div>
            <ng-container *ngIf="viewer.subscriptionLastReview">
                <div>
                    Abonné {{ viewer.subscriptionType | enum: 'ProductType' | async }} jusqu'au numéro
                    {{ viewer.subscriptionLastReview.id }}
                </div>
                <a mat-flat-button routerLink="/larevuedurable/abonnements">Renouveller</a>
            </ng-container>

            <ng-container *ngIf="!viewer.subscriptionLastReview">
                <div>N'est pas abonné.</div>
                <a mat-flat-button routerLink="/larevuedurable/abonnements">S'abonner</a>
            </ng-container>
        </div>

        <div fxFlex fxLayout="column" fxLayoutAlign="start start" fxLayoutGap="30px">
            <div class="mat-h2">Mon statut Artisans de la transition</div>
            <div>{{ viewer.membership | enum: 'Membership' | async }}</div>
            <a mat-flat-button routerLink="/membership">Payer la cotisation</a>
        </div>
    </div>
</div>

<div class="body container">
    <div fxLayout="row" fxLayoutGap="60px">
        <div fxFlex="25" fxLayout="column" fxLayoutGap="30px">
            <div class="frame-primary" fxShow.gt-sm>
                <div class="mat-h2 padding">Mon compte</div>
                <mat-nav-list>
                    <!-- @formatter:off -->
                    <a mat-list-item routerLink="/mon-compte/articles-achetes">Articles et revues achetées</a>
                    <a mat-list-item routerLink="/mon-compte/donnees-personnelles">Données personnelles</a>
                    <a mat-list-item routerLink="/mon-compte/commandes">Commandes</a>
                    <!-- @formatter:on -->
                </mat-nav-list>
            </div>
        </div>
        <div fxFlex>
            <router-outlet></router-outlet>
        </div>
    </div>
</div>
