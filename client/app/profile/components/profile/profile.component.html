<div fxLayout="column" fxLayoutGap="30px" class="padding">

    <div fxLayout="column" fxLayout.gt-xs="row" class="padding" fxLayoutGap.gt-xs="0px" fxLayoutGap="30px">
        <div fxFlex="none" fxFlex.gt-xs fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="10px">
            <ngx-avatar [name]="user.name" [size]="50"></ngx-avatar>
            <div class="mat-display-1 no-margin-bottom">{{ user.name }}</div>
            <a mat-flat-button
               color="warn"
               *ngIf="userService.canBecomeMember(user)"
               [disabled]="!user.email"
               [matTooltip]="!user.email ? 'Vous devez avoir saisi une adresse e-mail dans vos données personnelles' : null"
               [routerLink]="['/user/new', {email:user.email}]"
            >
                Devenir membre
            </a>
            <!-- TODO : UPDATE email when user add e-mail in family member component -->
        </div>

        <!-- CREDIT -->
        <div fxFlex="none" fxLayout="row" fxLayoutAlign="center">
            <div fxLayout="column" fxLayoutGap="20px">
                <div fxLayout="row" fxLayoutAlign="start center">
                    <h2 class="mat-headline no-margin" fxFlex>Solde</h2>
                    <button mat-flat-button color="primary" class="margin-left" (click)="pay()">Approvisionner</button>
                </div>
                <app-money [amount]="user.account?.balance || 0" sizeClass="mat-display-2"></app-money>
            </div>
        </div>

    </div>

    <div fxLayout="column" fxLayout.gt-sm="row" fxLayoutGap="20px">

        <div fxLayout="column">
            <mat-divider></mat-divider>

            <div fxLayout="row wrap" fxLayout.gt-sm="column" fxLayoutGap="20px grid" id="menu">

                <div>
                    <a mat-button
                       fxLayout="column"
                       fxLayoutAlign="start center"
                       routerLink="/profile"
                       class="big-button"
                       [style.max-width.px]="150"
                    >
                        <app-icon name="history" [size]="50"></app-icon>
                        Historique des sorties
                    </a>
                </div>
                <div>
                    <a mat-button
                       fxLayout="column"
                       fxLayoutAlign="start center"
                       routerLink="family"
                       class="big-button"
                       [style.max-width.px]="150"
                    >
                        <app-icon name="family" [size]="50"></app-icon>
                        Ménage et données personnelles
                    </a>
                </div>
                <div>
                    <a mat-button
                       fxLayout="column"
                       fxLayoutAlign="start center"
                       routerLink="finances"
                       class="big-button"
                       [style.max-width.px]="150"
                    >
                        <app-icon name="finances" [size]="50"></app-icon>
                        Notes de frais et remboursements
                    </a>
                </div>
                <div>
                    <a mat-button
                       fxLayout="column"
                       fxLayoutAlign="start center"
                       routerLink="services"
                       class="big-button"
                       [style.max-width.px]="150"
                    >
                        <app-icon name="ichtus" [size]="50"></app-icon>
                        Cotisation et services
                    </a>
                </div>
            </div>
        </div>

        <div fxFlex fxLayout="column">
            <mat-divider></mat-divider>
            <div class="padding">
                <router-outlet></router-outlet>
            </div>
        </div>

    </div>

</div>
