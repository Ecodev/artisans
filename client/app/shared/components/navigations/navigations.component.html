<div fxLayout="column" fxLayoutGap="20px">
    <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="20px grid" *ngIf="bookings">
        <app-card *ngFor="let booking of bookings.items; let i = index" [file]="booking.bookables[0]?.image" [style.width.px]="300"
        >
            <card-illustration *ngIf="!booking.bookables[0]?.image" class="padding">
                <ngx-avatar name="?" [size]="160"></ngx-avatar>
            </card-illustration>

            <div fxLayout="column" fxLayoutGap="10px" style="overflow:hidden;">
                <a mat-button [routerLink]="booking.bookables[0] ? ['/booking', booking.bookables[0].code] : null" app-button-wrap>
                    {{ booking.bookables[0]?.name || 'Matériel personnel' }}
                </a>
                <div style="position:relative">
                    <mat-divider></mat-divider>
                </div>
                <div class="mat-body-2" *ngIf="!booking.guest">{{ booking.owner.name }}</div>
                <div class="mat-body-2" *ngIf="booking.guest">Invité de {{ booking.owner.name }}</div>
                <div class="mat-body-1" *ngIf="!booking.endDate && booking.destination">Destination : {{ booking.destination }}</div>
                <div class="mat-body-1" *ngIf="!booking.endDate && booking.estimatedEndDate">
                    Retour prévu : {{ booking.estimatedEndDate }}
                </div>
                <div>Début : {{ booking.startDate | date: 'medium' }}</div>
                <div *ngIf="booking.endDate">Fin : {{ booking.endDate | date: 'medium' }}</div>
                <div fxLayout="row" fxLayoutAlign="end">
                    <button mat-flat-button color="warn" (click)="endBooking(booking)" *ngIf="!booking.endDate" [@terminate]>Terminer
                    </button>
                </div>
            </div>
        </app-card>
    </div>

    <button mat-button (click)="nextPage()" *ngIf="bookings && bookings.length > bookings.items.length">Voir plus</button>
</div>
